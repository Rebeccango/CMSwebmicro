!function(e){var t={};function a(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=3)}({3:function(e,t,a){e.exports=a("S8HQ")},S8HQ:function(e,t,a){var r=a("ViqS");$(function(){$.fn.serializeJSON=function(){var e={};return jQuery.map($(this).serializeArray(),function(t,a){e[t.name]=t.value}),e};$("#checkout_steps").data("checkout-step");$("#checkout-steps .nav-link").click(function(){$("#checkout-steps .nav-link").not('[href="'+$(this).attr("href")+'"]').parents(".nav-item").removeClass("active"),$(this).parents(".nav-item").addClass("active"),$(".tab-pane").not('[id="'+$(this).attr("href")+'"]').removeClass("active show"),$($(this)).tab("show"),$(this).parents(".nav-item").unbind("onmouseover").unbind("onmouseout")});var e=[{framework:"bootstrap4",icon:{valid:"fas fa-check",invalid:"fas fa-exclamation-triangle",validating:"fas fa-spinner"},fields:{ship_firstname:{validators:{regexp:{regexp:/^[A-Za-z ]+$/,message:"Your first name can only consist of alphabetical characters and spaces"},notEmpty:{message:"Your first name is required"}}},ship_lastname:{validators:{regexp:{regexp:/^[A-Za-z ]+$/,message:"Your last name can only consist of alphabetical characters and spaces"},notEmpty:{message:"Your last name is required"}}},ship_address_1:{validators:{notEmpty:{message:"Your shipping address is required"}}},ship_province:{icon:!1,validators:{notEmpty:{message:"Your province is required"}}},ship_postal:{validators:{regexp:{regexp:/^[ABCEGHJKLMNPRSTVXYabceghjklmnprstvxy]{1}\d{1}[aA-zZ]{1} *\d{1}[aA-zZ]{1}\d{1}$/,message:"The postal code must be a valid 6 character code"},notEmpty:{message:"Your billing postal code is required"}}},ship_city:{icon:!1,validators:{notEmpty:{message:"Your city is required"}}},ship_country:{validators:{notEmpty:{message:"Your country is required"}}},ship_org:{validators:{notEmpty:{message:"Your company/organization is required"}}},ship_tel:{validators:{phone:{country:"US",message:"%s is not a valid phone number"},notEmpty:{message:"Your phone number is required"}}}}},{framework:"bootstrap4",icon:{valid:"fas fa-check",invalid:"fas fa-exclamation-triangle",validating:"fas fa-spinner"},fields:{bill_firstname:{validators:{regexp:{regexp:/^[A-Za-z ]+$/,message:"Your first name can only consist of alphabetical characters and spaces"},notEmpty:{message:"Your first name is required"}}},bill_lastname:{validators:{regexp:{regexp:/^[A-Za-z ]+$/,message:"Your last name can only consist of alphabetical characters and spaces"},notEmpty:{message:"Your last name is required"}}},bill_address_1:{validators:{notEmpty:{message:"Your billing address is required"}}},bill_province:{icon:!1,validators:{notEmpty:{message:"Your province is required"}}},bill_postal:{validators:{regexp:{regexp:/^[ABCEGHJKLMNPRSTVXYabceghjklmnprstvxy]{1}\d{1}[aA-zZ]{1} *\d{1}[aA-zZ]{1}\d{1}$/,message:"The postal code must be a valid 6 character code"},notEmpty:{message:"Your billing postal code is required"}}},bill_city:{icon:!1,validators:{notEmpty:{message:"Your city is required"}}},bill_country:{validators:{notEmpty:{message:"Your country is required"}}},bill_org:{validators:{notEmpty:{message:"Your company/organization is required"}}},bill_tel:{validators:{phone:{country:"US",message:"%s is not a valid phone number"},notEmpty:{message:"Your phone number is required"}}},credit_type:{icon:!1,validators:{notEmpty:{message:"The credit card type is required"}}},cc_name:{regexp:{regexp:/^[A-Za-z ]$/,message:"The name can only consist of alphabetical characters and spaces"},validators:{notEmpty:{message:"The name on your credit card is required"}}},cc_num:{icon:!1,validators:{notEmpty:{message:"The credit card number is required"}}},cc_ccv:{icon:!1,validators:{regexp:{regexp:/^[0-9,â€¢]{3,3}$/,message:"Must be 3 characters long and contain only numbers"},notEmpty:{message:"The 3 digit CVC number on the back of your card is required"}}},cc_expire_1:{icon:!1,validators:{notEmpty:{message:"The month of expiry is required"}}},cc_expire_2:{icon:!1,validators:{notEmpty:{message:"The year of expiry is required"}}}}},{framework:"bootstrap4",icon:{valid:"fas fa-check",invalid:"fas fa-exclamation-triangle",validating:"fas fa-spinner"},fields:{agree_terms:{icon:!1,validators:{notEmpty:{message:"You must agree to the terms!"}}},email:{validators:{emailAddress:{message:"The value is not a valid email address"},notEmpty:{message:"You must provide an email!"}}}}}],t=$("#checkout_steps").data("checkout-step");$(window).bind("beforeunload",function(e){var t=$("#shipping form").serialize();if(a!=t){var r="You have unsaved changes on this page. Do you want to leave this page and discard your changes or stay on this page?";return e.returnValue=r,r}});var a=$("#shipping form").serialize(),i=!1,n=($("#shipping form").formValidation(e[0]).on("prevalidate.form.fv",function(e,t){i=!1,u()}).on("success.form.fv",function(e,t){e.preventDefault();var r=$(e.target),n=(r.find(".btn-next"),r.find('[name="status"]'),r.find(".errors")),o=$('.checkout-step a[href="#'+r.parent().attr("id")+'"]').parents(".checkout-step");o.find(".loading").fadeIn(function(){$(this).addClass("in")}),f&&(f=!1,$("#shipping form .btn-next").css({cursor:"pointer"}).click()),a=$("#shipping form").serialize(),$.ajax({url:"/store/checkout/shipping",type:"POST",data:a,dataType:"json",success:function(e){n.html(""),null!=e.error?(l(r,e.error),i=!1):(i=!0,null!=e.address?o.find(".checkout-step-content").html(e.address):o.find(".checkout-step-content").html("<p> Enter your shipping details.</p>"),r.parent().addClass("completed"),o.removeClass("error").addClass("completed"),r.find('[type="submit"]').prop("disabled",!1).removeAttr("disabled").removeClass("disabled")),setTimeout(function(){o.find(".loading").fadeOut(function(){$(this).removeClass("in")})},400)},complete:function(e){u()},error:function(e){i=!1,console.log(e.responseText)}})}).on("err.field.fv",function(e,t){i=!1,p(e,t)}).on("success.field.fv",function(e,t){d(e,t)}).on("err.form.fv",function(e,t){i=!1,u()}),!1),o=$("#billing form").serialize(),s=($("#billing form").formValidation(e[1]).on("prevalidate.form.fv",function(e,t){n=!1,u()}).on("success.form.fv",function(e,t){if(e.preventDefault(),!$("#billing").hasClass("locked")){var a=$(e.target),r=(a.find(".btn-next"),a.find('[name="status"]'),a.find(".errors"));o=$("#billing form").serialize();var i=$('.checkout-step a[href="#'+a.parent().attr("id")+'"]').parents(".checkout-step");i.find(".loading").fadeIn(function(){$(this).addClass("in")}),f&&(f=!1,$("#billing form .btn-next").css({cursor:"pointer"}).click()),$.ajax({url:"/store/checkout/billing",type:"POST",data:o,dataType:"json",success:function(e){r.html(""),e.error.length>0&&null!=e.error||"object"===$.type(e.error)&&""!=e.error?(l(a,e.error),n=!1,a.formValidation("revalidateField","credit_type"),a.formValidation("revalidateField","cc_ccv"),a.formValidation("revalidateField","cc_num"),a.formValidation("revalidateField","cc_name"),c(!1)):($(".errors:visible").hide(),n=!0,null!=e.address?i.find(".checkout-step-content").html(e.address):i.find(".checkout-step-content").html("<p> Enter your billing details.</p>"),a.parent().addClass("completed"),a.data("formValidation").disableSubmitButtons(!0),i.removeClass("error").addClass("completed"),a.find('[type="submit"]').prop("disabled",!1).removeAttr("disabled").removeClass("disabled"),""!=e.card?c(!0):c(!1)),setTimeout(function(){i.find(".loading").fadeOut(function(){$(this).removeClass("in")})},400)},complete:function(e){u()},error:function(e){console.log(e.responseText),n=!1}})}}).on("err.field.fv",function(e,t){n=!1,p(e,t)}).on("success.field.fv",function(e,t){d(e,t)}).on("err.form.fv",function(e,t){n=!1,u()}),!1);$("#complete form").formValidation(e[2]).on("prevalidate.form.fv",function(e,t){s=!1,u()}).on("success.form.fv",function(e,t){if(e.preventDefault(),$(this).prev(".loading").fadeOut(),!$("#complete").hasClass("locked")){var a=$(e.target);a.find(".btn-next"),a.find('[name="status"]'),a.find(".errors"),$('.checkout-step a[href="#'+a.parent().attr("id")+'"]').parents(".checkout-step");s=!0,u()}}).on("err.form.fv",function(e,t){s=!1,u(),$(this).prev(".loading").fadeIn()}).on("err.field.fv",function(e,t){s=!1,$(this).prev(".loading").fadeIn(),p(e,t)}).on("success.field.fv",function(e,t){d(e,t)});function l(e,t){$errors=e.find(".errors"),"string"===$.type(t)&&(t=JSON.parse(JSON.stringify(t))),Object.keys(t).length>0?$errors.show():$errors.hide(),$.each(t,function(t,a){e.formValidation("revalidateField",t),0==$errors.find("li[data-field="+t+"]").length||$errors.find("li[data-field="+t+"] a").html()!=a?$("<li/>").attr("data-field",t).wrapInner($("<a/>").attr("href","javascript: void(0);").html(a).on("click",function(e){$("#"+t).length>0&&($("[id="+t+"]").focus(),$("html, body").animate({scrollTop:$("[id="+t+"]").offset().top-140},500))})).hide().appendTo($errors).fadeIn(500):$("<li/>").wrapInner($("<a/>").attr("href","javascript: void(0);").html(a).on("click",function(e){$("#"+t).length>0&&($("[id="+t+"]").focus(),$("html, body").animate({scrollTop:$("[id="+t+"]").offset().top-140},500))})).hide().appendTo($errors).fadeIn(500)}),$('.checkout-step a[href="#'+$(e).parents(".form").attr("id")+'"]').parents(".checkout-step").removeClass("completed").addClass("error"),e.find('[type="submit"]').prop("disabled",!0).attr("disabled","disabled").addClass("disabled")}function c(e){$("#cc_name").prop("readonly",e),$("#cc_num").prop("readonly",e),$("#cc_ccv").prop("readonly",e),$("#credit_type").prop("disabled",e),$("#cc_expire_1").prop("disabled",e),$("#cc_expire_2").prop("disabled",e),e?$("#change-card").parent().show():$("#change-card").parent().hide(),$("#billing form").formValidation("enableFieldValidators","credit_type",!e),$("#billing form").formValidation("enableFieldValidators","cc_name",!e),$("#billing form").formValidation("enableFieldValidators","cc_num",!e),$("#billing form").formValidation("enableFieldValidators","cc_ccv",!e),$("#billing form").formValidation("enableFieldValidators","cc_expire_1",!e),$("#billing form").formValidation("enableFieldValidators","cc_expire_2",!e)}function d(e,t){$(e.target).parents("form").find(".errors").find('li[data-field="'+t.field+'"]').fadeOut(500,function(){$(this).remove(),0==$(e.target).parents("form").find(".errors li").length?($('.checkout-step a[href="#'+$(e.target).parents(".form").attr("id")+'"]').parents(".checkout-step").removeClass("error"),$(e.target).parents("form").find(".errors").hide()):$(e.target).parents("form").find(".errors").show()});var a=t.fv.getMessages(t.element);"complete"==$(e.target).parents(".form").attr("id")&&(s=0==a.length),u()}function p(e,t){var a=$(e.target).parents("form"),r=(a.find('button[type="submit"].btn-next'),a.find(".errors"));u(),t.element.data("fv.messages").find(".fv-control-feedback, .form-control-feedback").hide(),$('.checkout-step a[href="#'+$(e.target).parents(".form").attr("id")+'"]').parents(".checkout-step").removeClass("completed").addClass("error");var i=t.fv.getMessages(t.element);for(var n in i.length>0?$(e.target).parents("form").find(".errors").show():$(e.target).parents("form").find(".errors").hide(),i)!r.find("li[data-field="+t.field+"] a").filter(function(){return $(this).text()==i[n]}).length>0&&$("<li/>").attr("data-field",t.field).wrapInner($("<a/>").attr("href","javascript: void(0);").html(i[n]).on("click",function(e){t.element.focus()})).hide().appendTo(r).fadeIn(500);t.element.data("fv.messages").find('.help-block[data-fv-for="'+t.field+'"]').hide()}function u(){1==i&&1==n&&1==s?($("#complete form").find(".loading").fadeOut(),$("#complete form").data("formValidation").disableSubmitButtons(!1),$("#complete form").find('[type="submit"]').prop("disabled",!1).removeAttr("disabled").removeClass("disabled")):($("#complete form").data("formValidation").disableSubmitButtons(!0),$("#complete form").find('[type="submit"]').prop("disabled",!0).addClass("disabled"),$("#complete form").find(".loading").fadeIn())}$("#pay").bind("click",function(){$(this),$("#pay").parents("form").formValidation("validate"),$("#complete form").data("formValidation").isValid()?($(".form-loading").addClass("in"),$(this).prev(".loading").fadeIn(),$.ajax({url:"/store/checkout/pay",type:"POST",data:$("#complete form").serialize(),dataType:"json",success:function(e){$(".form-loading").removeClass("in"),e.success?window.location.href=e.redirect:e.errors&&$.each(e.errors,function(e,t){$.notify({message:t},{type:"danger",placement:{from:"bottom",align:"right"},newest_on_top:!0})})},error:function(e){console.log(e.responseText)}})):$(this).prev(".loading").fadeOut()}),$("#change-card").click(function(){var e=$(this).parent();$.ajax({url:"/store/checkout/resetCard",type:"POST",dataType:"json",data:{_token:$("#csrf_token").val()},success:function(t){t.success&&($("#credit_type").val("Visa").trigger("change"),$("#cc_expire_1").val(null).trigger("change"),$("#cc_expire_2").val(null).trigger("change"),$("#cc_name").val(""),$("#cc_num").val(""),$("#cc_ccv").val(""),e.hide(),c(!1))},error:function(e){$("body").html(e.responseText)}})}),$(".form-submit-button").bind("click",function(){$(this).find("button").is(":disabled")&&$(".errors").is(":visible")&&""!=$(".errors").html()&&$("html, body").animate({scrollTop:$(".errors:visible").offset().top-140},500)});var f=!1;$(".btn-next").bind("click",function(){f=!0,$(this).parents("form").data("formValidation").isValid()&&(f=!1,$('.checkout-step a[href="#'+$(".form.active").attr("id")+'"]').parents(".checkout-step").next().tab("show").find("a").trigger("click").removeClass("locked"),$("#"+$(".form.active").attr("id")).removeClass("locked"),$("html, body").animate({scrollTop:0},800))}),$.each($(".form:not(locked) form"),function(e,a){1!=t&&$(this).formValidation("validate")});var m,h=$(".checkout-step.active");function g(){$("#shippingOptions input").on("change",function(e){$("#cart_shipping .cart-widget-value span").html($(this).data("amount")),$("#cart_shipping").fadeIn(),updateTotal()})}$('.checkout-step a[data-toggle="tab"]').click(function(){var e=$($(h).find("a").attr("href")+" > form").formValidation("validate");e.data("formValidation").isValid()&&$('.checkout-step a[href="#'+$("form:visible").attr("id")+'"]').parents(".checkout-step").removeClass("error"),$("#complete form").data("formValidation").disableSubmitButtons(!0),$("#complete form").find('[type="submit"]').prop("disabled",!0).addClass("disabled"),h=$(this).parents(".checkout-step"),e.parent().removeClass("active"),$(".checkout-step").removeClass("active"),$(this).parents(".checkout-step").addClass("active").removeClass("locked").tab("show"),$("#checkout-content .tab-pane").removeClass("active"),$($(this).attr("href")).addClass("active"),$("form:visible").parent().addClass("active")}),ensureNumber=function(e){return e=parseInt(e,10),(isNaN(e)||e<=0)&&(e=0),e},sameAddress=function(e){$("#bill_firstname").val($("#ship_firstname").val()).trigger("change"),$("#bill_lastname").val($("#ship_lastname").val()).trigger("change"),$("#bill_address_1").val($("#ship_address_1").val()).trigger("change"),$("#bill_address_2").val($("#ship_address_2").val()).trigger("change"),$("#bill_province").val($("#ship_province").val()).trigger("change"),$("#bill_postal").val($("#ship_postal").val()).trigger("change"),$("#bill_country").val($("#ship_country").val()).trigger("change"),$("#bill_city").val($("#ship_city").val()).trigger("change"),$("#bill_org").val($("#ship_org").val()).trigger("change"),$("#bill_tel").val($("#ship_tel").val()).trigger("change");var t=$("#bill_city"),a=$("<option></option>").attr("selected",!0).text($("#ship_city").val()).val($("#ship_city").val());a.appendTo($("#bill_city")),t.trigger("change"),e.formValidation("revalidateField","bill_firstname"),e.formValidation("revalidateField","bill_lastname"),e.formValidation("revalidateField","bill_address_1"),e.formValidation("revalidateField","bill_address_2"),e.formValidation("revalidateField","bill_province"),e.formValidation("revalidateField","bill_postal"),e.formValidation("revalidateField","bill_city"),e.formValidation("revalidateField","bill_org"),e.formValidation("revalidateField","bill_tell")},checkForm=function(e){var t=!0;return!(e.find(".has-error").length>0)&&(e.find("input, select, textarea").each(function(){$(this).parents(".has-error").length>0?t=!1:!$(this).prop("required")||""!=$(this).val()&&null!=$(this).val()||(t=!1)}),t)},g(),calcTax=function(){var e=!1;$("#cart_tax").hide(),$(".cart-loading-block").fadeIn("fast").show();var t=$("#ship_province").val();stop_loading=!1,""!=t&&(stop_loading=!0,$("#cart_tax").fadeOut("fast")),stop_loading&&$.ajax({url:"/store/taxes",type:"POST",data:{province:t,_token:$("#csrf_token").val()},success:function(t){if("success"!=t.result)return $.notify({message:t.msg},{type:t.result,placement:{from:"bottom",align:"right"},newest_on_top:!0}),!1;e=t.taxAmount;0!=e&&($("#cart_tax").fadeIn("fast"),$("#cart_tax .cart-widget-value").html("$<span id='tax_total'>"+r(t.taxAmount).format("0,0.00")+"</span> CAD"),updateTotal())},complete:function(t){return e},error:function(e){console.log(e.responseText)}})},updateTotal=function(){var e=0,t=$("#tax_total").length>0?parseFloat($("#tax_total").text().replace(/,/g,"")):0;""!=$("#cart_shipping .cart-widget-value span").text()&&(e=parseFloat($("#cart_shipping .cart-widget-value span").text()));parseFloat($("#sub_total").text().replace(/,/g,""));$.ajax({url:"/store/calcTotal",type:"POST",data:{_token:$("#csrf_token").val()},success:function(a){"success"!=a.result&&$(".discount_block").fadeOut("fast"),$("#checkout_total").html(r(a.total+e+t).format("0,0.00"))},error:function(e){console.log(e)}})},$("input").on("ifClicked",function(e){$(e.target).parent().hasClass("checked")?$(e.target).prop("checked",!1).trigger("change"):$(e.target).prop("checked",!0).trigger("change")}),$("#ship_province, #ship_postal, #ship_city, #ship_address_1").change(function(){var e,t,a,n,o,s,l;$(this).is("#ship_province")&&calcTax(),""!=$("#ship_province").val()&&""!=$("#ship_postal").val()&&""!=$("#ship_city").val()&&""!=$("#ship_address_1").val()&&(e=!1,t=$("#ship_province").val(),a=$("#ship_postal").val(),n=$("#ship_city").val(),o=$("#ship_address_1").val(),s=$('input[name="ship_method"]:checked').val(),l=!1,""==n&&""==a&&""==t&&""==o||(l=!0),l?(void 0!=m&&m.abort(),m=$.ajax({url:"/store/calc/shipping",type:"POST",data:{ship_province:t,ship_postal:a,ship_city:n,ship_address_1:o,ship_address_2:$("#ship_address_2").val(),ship_method:s,ship_firstname:$("#ship_firstname").val(),ship_lastname:$("#ship_lastname").val(),ship_country:"CA",ship_org:$("#ship_org").val(),ship_tel:$("#ship_tel").val(),email:"",_token:$("#csrf_token").val()},beforeSend:function(){$("#shippingOptions input").prop("disabled",!0),$("#shippingOptions .form-loading").addClass("in"),$("#shippingOptions").css("min-height","150px")},success:function(t){"success"==t.result?($("#shippingOptions").css("min-height","auto").find(".ship_option").remove(),$("#defaultShippingMsg").fadeOut(),$("#cart_shipping .cart-widget-value span").length?$("#cart_shipping .cart-widget-value span").html(t.shipAmount).fadeIn():$("#cart_shipping .cart-widget-value").html("$<span>"+t.shipAmount+"</span> CAD").fadeIn(),$.each(t.rates,function(e,t){var a=$('<label class="ship_option d-flex flex-row" for="'+t.serviceId+'">            <input type="radio" class="flex-column" data-amount="'+t.totalCharge+'" name="ship_method"  id="'+t.serviceId+'" value="'+t.serviceId+'" '+(0==e?"checked":"")+'/>            <span class="flex-column pl-4"> <span class="h6">'+t.carrierName+'</span> <span class="text-sm text-primary">'+t.serviceName+'</span></span>            <span class="small text-muted flex-column pl-3">(estimated '+t.transitDays+' days)</span>            <span class="small flex-column pl-3">$'+r(t.totalCharge).format("0,0.00")+" CAD</span>            </label>            ");a.hide().appendTo("#shippingOptions").fadeIn("fast")}),g(),e=t.shipAmount,e>=0&&($("#cart_shipping .cart-widget-value span").html(e),$("#cart_shipping").fadeIn().show(),updateTotal())):($(".cart-loading-block").fadeOut("fast"),$("#cart_shipping").fadeOut("fast"),$("body").html(t),$.notify({message:t.msg},{type:t.result,placement:{from:"bottom",align:"right"},newest_on_top:!0}),$("#shippingOptions .ship_option").fadeOut("fast",function(){$(this).remove()}),0==$("#defaultShippingMsg").length?$("#shippingOptions").append('<div id="defaultShippingMsg" class="alert alert-'+t.result+'">'+t.msg+"</div>"):$("#shippingOptions #defaultShippingMsg").removeClass("alert-primary").addClass("alert-"+t.result).html(t.msg),$("#defaultShippingMsg").fadeIn(),i=!1,$("#shipping form").formValidation("revalidateField","ship_method")),$("#shippingOptions input").prop("disabled",!1),$("#shippingOptions .form-loading").removeClass("in")},error:function(e){console.log(e.responseText)}})):$(".cart-loading-block").fadeOut("fast"))}),calcTax(),$("#promo").on("shown.bs.collapse",function(){var e=$(window).scrollTop(),t=$(".fixed-widget"),a=$(".floating-widget"),r=$(this).outerHeight(),i=t.position().top+t.outerHeight(),n=a.position().top+a.outerHeight();$(window).width()>992&&(n>i||e+a.outerHeight()>i)&&(e=i-a.outerHeight()-r+40,a.css("top",e))}).on("hidden.bs.collapse",function(){var e=$(window).scrollTop(),t=$(".fixed-widget"),a=$(".floating-widget"),r=$(this).outerHeight(),i=t.position().top+t.outerHeight(),n=a.position().top+a.outerHeight();$(window).width()>992&&(n>i||e+a.outerHeight()>i)&&(e=i-n+r-20,a.css("top",e))}),$(document).on("focus",".select2",function(){}),$(".btn-same-ship").click(function(){sameAddress($("#billing form"))}),$(".postal-code").bind("keyup",function(e){if(e.which>=97&&e.which<=122){var t=e.which-32;e.keyCode=t,e.charCode=t}$(this).val($(this).val().toUpperCase())}),$("#cc_expire_2, #cc_expire_1").bind("keydown",function(e){-1!==$.inArray(e.keyCode,[46,8,9,27,13,110,190])||65===e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||e.keyCode>=35&&e.keyCode<=40||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()}),$(".credit_type").select2({minimumResultsForSearch:1/0}),$(".province-select").select2({placeholder:"Select a state",width:"100%",allowClear:!1}),$(".checkout-steps .collapse").on("show.bs.collapse",function(e){var t=$(this).prev().prev(),a=checkForm(t);a&&!$(this).prev().hasClass("disabled")&&$(this).prev("a").removeClass("disabled"),$(this).prev("a").hasClass("disabled")&&e.preventDefault()}),$(window).scroll(function(){var e=$(window).scrollTop(),t=$(".fixed-widget"),a=$(".floating-widget"),r=t.position().top+t.outerHeight(),i=(a.position().top,a.outerHeight(),0);$.each($(".floating-widget > div"),function(e,t){i+=$(t).outerHeight()});var n=$("header").outerHeight();$(window).width()>992&&(e-n>=t.position().top&&a.position().top>=t.position().top&&i+e<=r+55&&a.css("top",e-1.5*n-20),e<=t.position().top-n&&a.css("top",t.position().top-30))}),$(".cvv-info").popover({placement:"auto",trigger:"hover",html:!0,content:"<img src='https://i.imgur.com/L4aM0FE.png' width='220px' class='p-3' />"}),$("#email").change(function(){$("#agree_terms").prop("checked",!1)})})},ViqS:function(e,t,a){var r,i,n;n=function(){var e,t,a,r,i,n,o={},s={},l={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},c={currentLocale:l.currentLocale,zeroFormat:l.zeroFormat,nullFormat:l.nullFormat,defaultFormat:l.defaultFormat,scalePercentBy100:l.scalePercentBy100};function d(e,t){this._input=e,this._value=t}return e=function(a){var r,i,n,s;if(e.isNumeral(a))r=a.value();else if(0===a||void 0===a)r=0;else if(null===a||t.isNaN(a))r=null;else if("string"==typeof a)if(c.zeroFormat&&a===c.zeroFormat)r=0;else if(c.nullFormat&&a===c.nullFormat||!a.replace(/[^0-9]+/g,"").length)r=null;else{for(i in o)if(s="function"==typeof o[i].regexps.unformat?o[i].regexps.unformat():o[i].regexps.unformat,s&&a.match(s)){n=o[i].unformat;break}n=n||e._.stringToNumber,r=n(a)}else r=Number(a)||null;return new d(a,r)},e.version="2.0.6",e.isNumeral=function(e){return e instanceof d},e._=t={numberToFormat:function(t,a,r){var i,n,o,l,c,d,p,u,f=s[e.options.currentLocale],m=!1,h=!1,g="",v="",$=!1;if(t=t||0,o=Math.abs(t),e._.includes(a,"(")?(m=!0,a=a.replace(/[\(|\)]/g,"")):(e._.includes(a,"+")||e._.includes(a,"-"))&&(d=e._.includes(a,"+")?a.indexOf("+"):t<0?a.indexOf("-"):-1,a=a.replace(/[\+|\-]/g,"")),e._.includes(a,"a")&&(n=a.match(/a(k|m|b|t)?/),n=!!n&&n[1],e._.includes(a," a")&&(g=" "),a=a.replace(new RegExp(g+"a[kmbt]?"),""),o>=1e12&&!n||"t"===n?(g+=f.abbreviations.trillion,t/=1e12):o<1e12&&o>=1e9&&!n||"b"===n?(g+=f.abbreviations.billion,t/=1e9):o<1e9&&o>=1e6&&!n||"m"===n?(g+=f.abbreviations.million,t/=1e6):(o<1e6&&o>=1e3&&!n||"k"===n)&&(g+=f.abbreviations.thousand,t/=1e3)),e._.includes(a,"[.]")&&(h=!0,a=a.replace("[.]",".")),l=t.toString().split(".")[0],c=a.split(".")[1],p=a.indexOf(","),i=(a.split(".")[0].split(",")[0].match(/0/g)||[]).length,c?(e._.includes(c,"[")?(c=c.replace("]",""),c=c.split("["),v=e._.toFixed(t,c[0].length+c[1].length,r,c[1].length)):v=e._.toFixed(t,c.length,r),l=v.split(".")[0],v=e._.includes(v,".")?f.delimiters.decimal+v.split(".")[1]:"",h&&0===Number(v.slice(1))&&(v="")):l=e._.toFixed(t,0,r),g&&!n&&Number(l)>=1e3&&g!==f.abbreviations.trillion)switch(l=String(Number(l)/1e3),g){case f.abbreviations.thousand:g=f.abbreviations.million;break;case f.abbreviations.million:g=f.abbreviations.billion;break;case f.abbreviations.billion:g=f.abbreviations.trillion}if(e._.includes(l,"-")&&(l=l.slice(1),$=!0),l.length<i)for(var b=i-l.length;b>0;b--)l="0"+l;return p>-1&&(l=l.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+f.delimiters.thousands)),0===a.indexOf(".")&&(l=""),u=l+v+(g||""),m?u=(m&&$?"(":"")+u+(m&&$?")":""):d>=0?u=0===d?($?"-":"+")+u:u+($?"-":"+"):$&&(u="-"+u),u},stringToNumber:function(e){var t,a,r,i=s[c.currentLocale],n=e,o={thousand:3,million:6,billion:9,trillion:12};if(c.zeroFormat&&e===c.zeroFormat)a=0;else if(c.nullFormat&&e===c.nullFormat||!e.replace(/[^0-9]+/g,"").length)a=null;else{for(t in a=1,"."!==i.delimiters.decimal&&(e=e.replace(/\./g,"").replace(i.delimiters.decimal,".")),o)if(r=new RegExp("[^a-zA-Z]"+i.abbreviations[t]+"(?:\\)|(\\"+i.currency.symbol+")?(?:\\))?)?$"),n.match(r)){a*=Math.pow(10,o[t]);break}a*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),a*=Number(e)}return a},isNaN:function(e){return"number"==typeof e&&isNaN(e)},includes:function(e,t){return-1!==e.indexOf(t)},insert:function(e,t,a){return e.slice(0,a)+t+e.slice(a)},reduce:function(e,t){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var a,r=Object(e),i=r.length>>>0,n=0;if(3===arguments.length)a=arguments[2];else{for(;n<i&&!(n in r);)n++;if(n>=i)throw new TypeError("Reduce of empty array with no initial value");a=r[n++]}for(;n<i;n++)n in r&&(a=t(a,r[n],n,r));return a},multiplier:function(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){var e=Array.prototype.slice.call(arguments);return e.reduce(function(e,a){var r=t.multiplier(a);return e>r?e:r},1)},toFixed:function(e,t,a,r){var i,n,o,s,l=e.toString().split("."),c=t-(r||0);return i=2===l.length?Math.min(Math.max(l[1].length,c),t):c,o=Math.pow(10,i),s=(a(e+"e+"+i)/o).toFixed(i),r>t-i&&(n=new RegExp("\\.?0{1,"+(r-(t-i))+"}$"),s=s.replace(n,"")),s}},e.options=c,e.formats=o,e.locales=s,e.locale=function(e){return e&&(c.currentLocale=e.toLowerCase()),c.currentLocale},e.localeData=function(e){if(!e)return s[c.currentLocale];if(e=e.toLowerCase(),!s[e])throw new Error("Unknown locale : "+e);return s[e]},e.reset=function(){for(var e in l)c[e]=l[e]},e.zeroFormat=function(e){c.zeroFormat="string"==typeof e?e:null},e.nullFormat=function(e){c.nullFormat="string"==typeof e?e:null},e.defaultFormat=function(e){c.defaultFormat="string"==typeof e?e:"0.0"},e.register=function(e,t,a){if(t=t.toLowerCase(),this[e+"s"][t])throw new TypeError(t+" "+e+" already registered.");return this[e+"s"][t]=a,a},e.validate=function(t,a){var r,i,n,o,s,l,c,d;if("string"!=typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),t=t.trim(),t.match(/^\d+$/))return!0;if(""===t)return!1;try{c=e.localeData(a)}catch(t){c=e.localeData(e.locale())}return n=c.currency.symbol,s=c.abbreviations,r=c.delimiters.decimal,i="."===c.delimiters.thousands?"\\.":c.delimiters.thousands,d=t.match(/^[^\d]+/),(null===d||(t=t.substr(1),d[0]===n))&&(d=t.match(/[^\d]+$/),(null===d||(t=t.slice(0,-1),d[0]===s.thousand||d[0]===s.million||d[0]===s.billion||d[0]===s.trillion))&&(l=new RegExp(i+"{2}"),!t.match(/[^\d.,]/g)&&(o=t.split(r),!(o.length>2)&&(o.length<2?!!o[0].match(/^\d+.*\d$/)&&!o[0].match(l):1===o[0].length?!!o[0].match(/^\d+$/)&&!o[0].match(l)&&!!o[1].match(/^\d+$/):!!o[0].match(/^\d+.*\d$/)&&!o[0].match(l)&&!!o[1].match(/^\d+$/)))))},e.fn=d.prototype={clone:function(){return e(this)},format:function(t,a){var r,i,n,s=this._value,l=t||c.defaultFormat;if(a=a||Math.round,0===s&&null!==c.zeroFormat)i=c.zeroFormat;else if(null===s&&null!==c.nullFormat)i=c.nullFormat;else{for(r in o)if(l.match(o[r].regexps.format)){n=o[r].format;break}n=n||e._.numberToFormat,i=n(s,l,a)}return i},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var a=t.correctionFactor.call(null,this._value,e);return this._value=t.reduce([this._value,e],function(e,t,r,i){return e+Math.round(a*t)},0)/a,this},subtract:function(e){var a=t.correctionFactor.call(null,this._value,e);return this._value=t.reduce([e],function(e,t,r,i){return e-Math.round(a*t)},Math.round(this._value*a))/a,this},multiply:function(e){return this._value=t.reduce([this._value,e],function(e,a,r,i){var n=t.correctionFactor(e,a);return Math.round(e*n)*Math.round(a*n)/Math.round(n*n)},1),this},divide:function(e){return this._value=t.reduce([this._value,e],function(e,a,r,i){var n=t.correctionFactor(e,a);return Math.round(e*n)/Math.round(a*n)}),this},difference:function(t){return Math.abs(e(this._value).subtract(t).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(t,a,r){var i,n=e._.includes(a," BPS")?" ":"";return t*=1e4,a=a.replace(/\s?BPS/,""),i=e._.numberToFormat(t,a,r),e._.includes(i,")")?(i=i.split(""),i.splice(-1,0,n+"BPS"),i=i.join("")):i=i+n+"BPS",i},unformat:function(t){return+(1e-4*e._.stringToNumber(t)).toFixed(15)}}),a={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},r={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},i=a.suffixes.concat(r.suffixes.filter(function(e){return a.suffixes.indexOf(e)<0})),n=i.join("|"),n="("+n.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(n)},format:function(t,i,n){var o,s,l,c,d=e._.includes(i,"ib")?r:a,p=e._.includes(i," b")||e._.includes(i," ib")?" ":"";for(i=i.replace(/\s?i?b/,""),s=0;s<=d.suffixes.length;s++)if(l=Math.pow(d.base,s),c=Math.pow(d.base,s+1),null===t||0===t||t>=l&&t<c){p+=d.suffixes[s],l>0&&(t/=l);break}return o=e._.numberToFormat(t,i,n),o+p},unformat:function(t){var i,n,o=e._.stringToNumber(t);if(o){for(i=a.suffixes.length-1;i>=0;i--){if(e._.includes(t,a.suffixes[i])){n=Math.pow(a.base,i);break}if(e._.includes(t,r.suffixes[i])){n=Math.pow(r.base,i);break}}o*=n||1}return o}}),e.register("format","currency",{regexps:{format:/(\$)/},format:function(t,a,r){var i,n,o,s=e.locales[e.options.currentLocale],l={before:a.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:a.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(a=a.replace(/\s?\$\s?/,""),i=e._.numberToFormat(t,a,r),t>=0?(l.before=l.before.replace(/[\-\(]/,""),l.after=l.after.replace(/[\-\)]/,"")):t<0&&!e._.includes(l.before,"-")&&!e._.includes(l.before,"(")&&(l.before="-"+l.before),o=0;o<l.before.length;o++)switch(n=l.before[o],n){case"$":i=e._.insert(i,s.currency.symbol,o);break;case" ":i=e._.insert(i," ",o+s.currency.symbol.length-1)}for(o=l.after.length-1;o>=0;o--)switch(n=l.after[o],n){case"$":i=o===l.after.length-1?i+s.currency.symbol:e._.insert(i,s.currency.symbol,-(l.after.length-(1+o)));break;case" ":i=o===l.after.length-1?i+" ":e._.insert(i," ",-(l.after.length-(1+o)+s.currency.symbol.length-1))}return i}}),e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(t,a,r){var i,n="number"!=typeof t||e._.isNaN(t)?"0e+0":t.toExponential(),o=n.split("e");return a=a.replace(/e[\+|\-]{1}0/,""),i=e._.numberToFormat(Number(o[0]),a,r),i+"e"+o[1]},unformat:function(t){var a=e._.includes(t,"e+")?t.split("e+"):t.split("e-"),r=Number(a[0]),i=Number(a[1]);return i=e._.includes(t,"e-")?i*=-1:i,e._.reduce([r,Math.pow(10,i)],function(t,a,r,i){var n=e._.correctionFactor(t,a),o=t*n*(a*n)/(n*n);return o},1)}}),e.register("format","ordinal",{regexps:{format:/(o)/},format:function(t,a,r){var i,n=e.locales[e.options.currentLocale],o=e._.includes(a," o")?" ":"";return a=a.replace(/\s?o/,""),o+=n.ordinal(t),i=e._.numberToFormat(t,a,r),i+o}}),e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(t,a,r){var i,n=e._.includes(a," %")?" ":"";return e.options.scalePercentBy100&&(t*=100),a=a.replace(/\s?\%/,""),i=e._.numberToFormat(t,a,r),e._.includes(i,")")?(i=i.split(""),i.splice(-1,0,n+"%"),i=i.join("")):i=i+n+"%",i},unformat:function(t){var a=e._.stringToNumber(t);return e.options.scalePercentBy100?.01*a:a}}),e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,t,a){var r=Math.floor(e/60/60),i=Math.floor((e-60*r*60)/60),n=Math.round(e-60*r*60-60*i);return r+":"+(i<10?"0"+i:i)+":"+(n<10?"0"+n:n)},unformat:function(e){var t=e.split(":"),a=0;return 3===t.length?(a+=60*Number(t[0])*60,a+=60*Number(t[1]),a+=Number(t[2])):2===t.length&&(a+=60*Number(t[0]),a+=Number(t[1])),Number(a)}}),e},r=n,i="function"==typeof r?r.call(t,a,t,e):r,void 0===i||(e.exports=i)}});